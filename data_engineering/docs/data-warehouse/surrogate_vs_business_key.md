
# Surrogate Key vs Business Key

## ðŸ“Œ Key Differences

| Feature               | Surrogate Key                                                 | Business Key                                               |
|----------------------|---------------------------------------------------------------|------------------------------------------------------------|
| **Definition**        | Artificial, system-generated identifier (e.g., auto-increment ID) | Natural identifier from source data (e.g., SSN, Email)     |
| **Purpose**           | Ensures uniqueness within the data warehouse or table         | Represents real-world entities uniquely                    |
| **Type**              | Typically numeric (e.g., INT, BIGINT)                         | Often string or compound fields                            |
| **Source**            | Generated by the system or ETL process                        | Comes from operational systems                             |
| **Stability**         | Very stable (never changes)                                   | May change (e.g., email address, customer code)            |
| **Usage**             | Primary keys in dimension tables (e.g., CustomerID)           | Used for matching/joining across systems (e.g., SSN)       |
| **Performance**       | Faster joins due to smaller data types and indexing           | Slower joins due to larger or multi-column keys            |
| **Human Readability** | Not meaningful to end users                                   | Often meaningful (e.g., product SKU, SSN)                  |
| **ETL Complexity**    | Simplifies updates and slowly changing dimensions (SCDs)      | Can complicate SCD handling due to changes in values       |

---

## âœ… Example

**Customer Table:**

| Surrogate Key | Business Key (Email) | Name       |
|---------------|-----------------------|------------|
| 1001          | john@example.com      | John Smith |
| 1002          | jane@example.com      | Jane Doe   |

Here, `1001` and `1002` are surrogate keys, while emails are business keys.

---

## ðŸ’¡ Additional Insights

- **Surrogate keys** are especially useful in **Slowly Changing Dimensions (SCD Type 2)**, where multiple historical versions of a record are stored.
- **Business keys** may suffer from **data quality issues**, duplication, or re-use which can lead to unreliable joins.
- Best practice: Use **surrogate keys** as primary keys in dimensional models and maintain **business keys** as natural references.

---

## ðŸŽ¯ Interview Questions & Answers

**1. What is the difference between surrogate and business keys?**  
Surrogate keys are artificial, system-generated identifiers used internally (e.g., integer IDs). Business keys are natural identifiers from source systems (e.g., SSN, email).

**2. Why are surrogate keys preferred in data warehouses?**  
They are stable, simplify joins, handle SCDs better, and are immune to changes in business data (e.g., changing an email doesnâ€™t affect the surrogate key).

**3. Can a surrogate key be composite? Why or why not?**  
No, surrogate keys are typically single-column values (like an auto-incremented ID) designed for simplicity and efficiency. Composite surrogate keys defeat the purpose.

**4. How would you handle changes in business keys in dimension tables?**  
Track historical changes using SCD Type 2. Insert a new row with a new surrogate key while preserving the old row and marking it as inactive.

**5. Give an example of when a business key might not be reliable.**  
If a customer changes their email address, the original business key becomes outdated, leading to potential mismatches in joins or SCD updates.

---

## ðŸ—‚ Use & TODOs

- Update with real-life project examples when possible
- Use in interview prep to explain trade-offs in data modeling
